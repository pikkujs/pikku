{
  "$schema": "https://raw.githubusercontent.com/pikkujs/pikku/refs/heads/main/packages/cli/cli.schema.json",
  "tsconfig": "./tsconfig.json",
  "srcDirectories": ["packages/functions/src"],
  "outDir": "packages/functions/.pikku",

  // Generate clients in SDK package (recommended for monorepos)
  "fetchFile": "packages/sdk/.pikku/pikku-fetch.gen.ts",
  "websocketFile": "packages/sdk/.pikku/pikku-websocket.gen.ts",
  "routesMapDeclarationFile": "packages/sdk/.pikku/routes-map.gen.d.ts",
  "channelsMapDeclarationFile": "packages/sdk/.pikku/channels-map.gen.d.ts",

  // Map workspace packages to published names
  "packageMappings": {
    "packages/sdk": "@my-app/sdk",
    "packages/functions": "@my-app/functions"
  },

  // OpenAPI spec generation
  "openAPI": {
    "outputFile": "openapi.yml",
    "additionalInfo": {
      "info": {
        "title": "My App API",
        "version": "1.0.0",
        "description": "API documentation"
      },
      "servers": [
        {
          "url": "http://localhost:3000",
          "description": "Development server"
        }
      ]
    }
  }
}
