/**
 * This file was generated by the @pikku/cli
 */
/**
 * This provides the structure needed for typescript to be aware of RPCs and their return types
 */

// Custom types are those that are defined directly within generics
// or are broken into simpler types
export type SayHelloInput = { name?: string }
export type PikkuFn__Users_yasser_git_pikku_pikku_templates_functions_src_mcp_functions_ts_L12C3Output =
  { type: string; text: string }[]
export type DisableToolInput = { name: string }
export type PikkuFn__Users_yasser_git_pikku_pikku_templates_functions_src_mcp_functions_ts_L25C3Output =
  { type: string; text: string }[]
export type CalculateInput = {
  operation: 'add' | 'subtract' | 'multiply' | 'divide'
  a: number
  b: number
}
export type PikkuFn__Users_yasser_git_pikku_pikku_templates_functions_src_mcp_functions_ts_L52C4Output =
  { type: string; text: string }[]
export type PikkuFn__Users_yasser_git_pikku_pikku_templates_functions_src_mcp_functions_ts_L88C55Output =
  { uri: any; text: string }[]
export type GetUserInfoInput = { userId: string }
export type PikkuFn__Users_yasser_git_pikku_pikku_templates_functions_src_mcp_functions_ts_L101C3Output =
  { uri: string; text: string }[]
export type PikkuFn__Users_yasser_git_pikku_pikku_templates_functions_src_mcp_functions_ts_L140C66Output =
  { role: string; content: { type: string; text: string } }[]
export type DynamicPromptGeneratorInput = {
  topic: string
  complexity: 'beginner' | 'intermediate' | 'advanced'
  includeExamples?: string
}
export type PikkuFn__Users_yasser_git_pikku_pikku_templates_functions_src_mcp_functions_ts_L159C4Output =
  { role: 'user'; content: { type: 'text'; text: string } }[]
export type OnConnectInput = 'hello!'
export type AuthenticateInput = { token: string; userId: string }
export type AuthenticateOutput = { authResult: boolean; action: 'auth' }
export type SubscribeInput = { name: string }
export type UnsubscribeInput = { name: string }
export type EmitMessageInput = { name: string }
export type EmitMessageOutput =
  | { timestamp: string; from: string }
  | { message: string }
export type OnMessageInput = 'hello'
export type OnMessageOutput = 'hey'
export type ProgressiveEnhancementExampleOutput = {
  state: 'initial' | 'pending' | 'done'
}
export type TimeSinceOpenedOutput = { count: number }
export type QueueWorkerInput = { message: string; fail: boolean }
export type QueueWorkerOutput = { result: string }
export type RpcTestInput = { in: number }

interface RPCHandler<I, O> {
  input: I
  output: O
}

export type RPCMap = {
  readonly sayHello: RPCHandler<
    SayHelloInput,
    PikkuFn__Users_yasser_git_pikku_pikku_templates_functions_src_mcp_functions_ts_L12C3Output
  >
  readonly disableTool: RPCHandler<
    DisableToolInput,
    PikkuFn__Users_yasser_git_pikku_pikku_templates_functions_src_mcp_functions_ts_L25C3Output
  >
  readonly calculate: RPCHandler<
    CalculateInput,
    PikkuFn__Users_yasser_git_pikku_pikku_templates_functions_src_mcp_functions_ts_L52C4Output
  >
  readonly getStaticResource: RPCHandler<
    null,
    PikkuFn__Users_yasser_git_pikku_pikku_templates_functions_src_mcp_functions_ts_L88C55Output
  >
  readonly getUserInfo: RPCHandler<
    GetUserInfoInput,
    PikkuFn__Users_yasser_git_pikku_pikku_templates_functions_src_mcp_functions_ts_L101C3Output
  >
  readonly staticPromptGenerator: RPCHandler<
    null,
    PikkuFn__Users_yasser_git_pikku_pikku_templates_functions_src_mcp_functions_ts_L140C66Output
  >
  readonly dynamicPromptGenerator: RPCHandler<
    DynamicPromptGeneratorInput,
    PikkuFn__Users_yasser_git_pikku_pikku_templates_functions_src_mcp_functions_ts_L159C4Output
  >
  readonly onConnect: RPCHandler<OnConnectInput, null>
  readonly onDisconnect: RPCHandler<null, null>
  readonly authenticate: RPCHandler<AuthenticateInput, AuthenticateOutput>
  readonly subscribe: RPCHandler<SubscribeInput, null>
  readonly unsubscribe: RPCHandler<UnsubscribeInput, null>
  readonly emitMessage: RPCHandler<EmitMessageInput, EmitMessageOutput>
  readonly onMessage: RPCHandler<OnMessageInput, OnMessageOutput>
  readonly progressiveEnhancementExample: RPCHandler<
    null,
    ProgressiveEnhancementExampleOutput
  >
  readonly timeSinceOpened: RPCHandler<null, TimeSinceOpenedOutput>
  readonly helloWorld: RPCHandler<null, string>
  readonly queueWorker: RPCHandler<QueueWorkerInput, QueueWorkerOutput>
  readonly rpcTest: RPCHandler<RpcTestInput, null>
  readonly rpcCaller: RPCHandler<null, null>
  readonly myScheduledTask: RPCHandler<null, null>
}

type RPCInvoke = <Name extends keyof RPCMap>(
  name: Name,
  data: RPCMap[Name]['input'],
  options?: {
    location?: 'local' | 'remote' | 'auto'
  }
) => Promise<RPCMap[Name]['output']>

export type TypedPikkuRPC = {
  depth: number
  global: boolean
  invoke: RPCInvoke
}
