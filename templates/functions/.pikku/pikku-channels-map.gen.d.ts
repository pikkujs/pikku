/**
 * This file was generated by the @pikku/cli
 */
/**
 * This provides the structure needed for TypeScript to be aware of channels
 */
    


// Custom types are those that are defined directly within generics
// or are broken into simpler types
export type OnConnectInput = "hello!"
export type AuthenticateInput = { token: string; userId: string; }
export type AuthenticateOutput = { authResult: boolean; action: "auth"; }
export type SubscribeInput = { name: string; }
export type UnsubscribeInput = { name: string; }
export type EmitMessageInput = { name: string; }
export type EmitMessageOutput = { timestamp: string; from: string; } | { message: string; }
export type OnMessageInput = "hello"
export type OnMessageOutput = "hey"
export type ProgressiveEnhancementExampleOutput = { state: "initial" | "pending" | "done"; }
export type TimeSinceOpenedOutput = { count: number; }

interface ChannelHandler<I, O> {
    input: I;
    output: O;
}

export type ChannelsMap = {
  readonly 'events': {
    readonly routes: {
      readonly action: {
        readonly auth: ChannelHandler<AuthenticateInput, AuthenticateOutput>,
        readonly subscribe: ChannelHandler<SubscribeInput, never>,
        readonly unsubscribe: ChannelHandler<UnsubscribeInput, never>,
        readonly emit: ChannelHandler<EmitMessageInput, EmitMessageOutput>,
      },
    },
    readonly defaultMessage: never,
  },
  readonly 'progressive-enhancement': {
    readonly routes: {
      readonly action: {
        readonly status: ChannelHandler<void, ProgressiveEnhancementExampleOutput>,
      },
    },
    readonly defaultMessage: never,
  },
};

export type ChannelDefaultHandlerOf<Channel extends keyof ChannelsMap> =
    ChannelsMap[Channel]['defaultMessage'] extends { input: infer I; output: infer O }
        ? ChannelHandler<I, O>
        : never;

export type ChannelRouteHandlerOf<
    Channel extends keyof ChannelsMap, 
    Route extends keyof ChannelsMap[Channel]['routes'], 
    Method extends keyof ChannelsMap[Channel]['routes'][Route],
> =
    ChannelsMap[Channel]['routes'][Route][Method] extends { input: infer I; output: infer O }
        ? ChannelHandler<I, O>
        : never;
